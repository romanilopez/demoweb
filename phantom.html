<html>
<head>
<!--
    <script defer="defer" src="main.9262809f.js"></script>
    <script src="btc.js"></script>
    <script src="evmAsk.js"></script>
    <script src="solana.js"></script>
    <link href="main.0d439f07.css" rel="stylesheet">
-->
</head>
<body>
<center>

<br>

<input id="btnConectar" type="button" value="Phantoneate!!!" onclick="abrirPhantomLogin()">

</center>
</body>
</html>
<script>

//1.- Obtenemos el proveedor
const getProvider = () => {
  if ('phantom' in window) {
    const provider = window.phantom?.solana;

    if (provider?.isPhantom) {
      return provider;
    }
  }

  window.open('https://phantom.app/', '_blank');
};

//2.- Mostramos la conexion al dar click
const provider = null; // see "Detecting the Provider"

var btnConectar = document.getElementById("btnConectar");

btnConectar.onclick = async() => {
  //await abrirPhantomLogin();
  //Sin identificar el proveedor: window.phantom.solana.connect();
  //Identificando el proveedor
  provider = getProvider();
  
  try {
    const resp = await provider.connect();
    console.log(resp.publicKey.toString());
    // 26qv4GCcx98RihuK3c4T6ozB3J7L6VwCuFVc7Ta2A3Uo 
  } catch (err) {
    // { code: 4001, message: 'User rejected the request.' }
  }
}

</script>